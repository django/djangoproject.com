{"parents": [{"link": "../../../", "title": "API Reference"}, {"link": "../../", "title": "<code class=\"docutils literal notranslate\"><span class=\"pre\">contrib</span></code> packages"}, {"link": "../", "title": "GeoDjango"}], "prev": {"link": "../forms-api/", "title": "GeoDjango Forms API"}, "next": {"link": "../functions/", "title": "Geographic Database Functions"}, "title": "GIS QuerySet API Reference", "meta": {}, "body": "<div class=\"section\" id=\"s-gis-queryset-api-reference\">\n<span id=\"gis-queryset-api-reference\"></span><h1>GIS QuerySet API Reference<a class=\"headerlink\" href=\"#gis-queryset-api-reference\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<div class=\"section\" id=\"s-spatial-lookups\">\n<span id=\"s-id1\"></span><span id=\"spatial-lookups\"></span><span id=\"id1\"></span><h2>Spatial Lookups<a class=\"headerlink\" href=\"#spatial-lookups\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>The spatial lookups in this section are available for <a class=\"reference internal\" href=\"../model-api/#django.contrib.gis.db.models.GeometryField\" title=\"django.contrib.gis.db.models.GeometryField\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">GeometryField</span></code></a>\nand <a class=\"reference internal\" href=\"../model-api/#django.contrib.gis.db.models.RasterField\" title=\"django.contrib.gis.db.models.RasterField\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RasterField</span></code></a>.</p>\n<p>For an introduction, see the <a class=\"reference internal\" href=\"../db-api/#spatial-lookups-intro\"><span class=\"std std-ref\">spatial lookups introduction</span></a>.  For an overview of what lookups are\ncompatible with a particular spatial backend, refer to the\n<a class=\"reference internal\" href=\"../db-api/#spatial-lookup-compatibility\"><span class=\"std std-ref\">spatial lookup compatibility table</span></a>.</p>\n<div class=\"section\" id=\"s-lookups-with-rasters\">\n<span id=\"lookups-with-rasters\"></span><h3>Lookups with rasters<a class=\"headerlink\" href=\"#lookups-with-rasters\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>All examples in the reference below are given for geometry fields and inputs,\nbut the lookups can be used the same way with rasters on both sides. Whenever\na lookup doesn\u2019t support raster input, the input is automatically\nconverted to a geometry where necessary using the <a class=\"reference external\" href=\"https://postgis.net/docs/RT_ST_Polygon.html\">ST_Polygon</a> function. See also the\n<a class=\"reference internal\" href=\"../db-api/#spatial-lookup-raster\"><span class=\"std std-ref\">introduction to raster lookups</span></a>.</p>\n<p>The database operators used by the lookups can be divided into three categories:</p>\n<ul class=\"simple\">\n<li>Native raster support <code class=\"docutils literal notranslate\"><span class=\"pre\">N</span></code>: the operator accepts rasters natively on both\nsides of the lookup, and raster input can be mixed with geometry inputs.</li>\n<li>Bilateral raster support <code class=\"docutils literal notranslate\"><span class=\"pre\">B</span></code>: the operator supports rasters only if both\nsides of the lookup receive raster inputs. Raster data is automatically\nconverted to geometries for mixed lookups.</li>\n<li>Geometry conversion support <code class=\"docutils literal notranslate\"><span class=\"pre\">C</span></code>. The lookup does not have native raster\nsupport, all raster data is automatically converted to geometries.</li>\n</ul>\n<p>The examples below show the SQL equivalent for the lookups in the different\ntypes of raster support. The same pattern applies to all spatial lookups.</p>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"4%\" />\n<col width=\"34%\" />\n<col width=\"62%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Case</th>\n<th class=\"head\">Lookup</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>N, B</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">rast__contains=rst</span></code></td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Contains(rast,</span> <span class=\"pre\">rst)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>N, B</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">rast__1__contains=(rst,</span> <span class=\"pre\">2)</span></code></td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Contains(rast,</span> <span class=\"pre\">1,</span> <span class=\"pre\">rst,</span> <span class=\"pre\">2)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>B, C</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">rast__contains=geom</span></code></td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Contains(ST_Polygon(rast),</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>B, C</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">rast__1__contains=geom</span></code></td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Contains(ST_Polygon(rast,</span> <span class=\"pre\">1),</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>B, C</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">poly__contains=rst</span></code></td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Contains(poly,</span> <span class=\"pre\">ST_Polygon(rst))</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>B, C</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">poly__contains=(rst,</span> <span class=\"pre\">1)</span></code></td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Contains(poly,</span> <span class=\"pre\">ST_Polygon(rst,</span> <span class=\"pre\">1))</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>C</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">rast__crosses=rst</span></code></td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Crosses(ST_Polygon(rast),</span> <span class=\"pre\">ST_Polygon(rst))</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>C</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">rast__1__crosses=(rst,</span> <span class=\"pre\">2)</span></code></td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Crosses(ST_Polygon(rast,</span> <span class=\"pre\">1),</span> <span class=\"pre\">ST_Polygon(rst,</span> <span class=\"pre\">2))</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>C</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">rast__crosses=geom</span></code></td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Crosses(ST_Polygon(rast),</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>C</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">poly__crosses=rst</span></code></td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Crosses(poly,</span> <span class=\"pre\">ST_Polygon(rst))</span></code></td>\n</tr>\n</tbody>\n</table>\n<p>Spatial lookups with rasters are only supported for PostGIS backends\n(denominated as PGRaster in this section).</p>\n</div>\n<div class=\"section\" id=\"s-bbcontains\">\n<span id=\"s-std-fieldlookup-bbcontains\"></span><span id=\"s-std:fieldlookup-bbcontains\"></span><span id=\"bbcontains\"></span><span id=\"std-fieldlookup-bbcontains\"></span><span id=\"std:fieldlookup-bbcontains\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">bbcontains</span></code><a class=\"headerlink\" href=\"#bbcontains\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Geometry_Contain.html\">PostGIS</a>,\nMariaDB, MySQL, SpatiaLite, PGRaster (Native)</p>\n<p>Tests if the geometry or raster field\u2019s bounding box completely contains the\nlookup geometry\u2019s bounding box.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__bbcontains</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"27%\" />\n<col width=\"73%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">poly</span> <span class=\"pre\">~</span> <span class=\"pre\">geom</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>MariaDB</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">MBRContains(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>MySQL</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">MBRContains(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">MbrContains(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-bboverlaps\">\n<span id=\"s-std-fieldlookup-bboverlaps\"></span><span id=\"s-std:fieldlookup-bboverlaps\"></span><span id=\"bboverlaps\"></span><span id=\"std-fieldlookup-bboverlaps\"></span><span id=\"std:fieldlookup-bboverlaps\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">bboverlaps</span></code><a class=\"headerlink\" href=\"#bboverlaps\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/geometry_overlaps.html\">PostGIS</a>,\nMariaDB, MySQL, SpatiaLite, PGRaster (Native)</p>\n<p>Tests if the geometry field\u2019s bounding box overlaps the lookup geometry\u2019s\nbounding box.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__bboverlaps</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"27%\" />\n<col width=\"73%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">poly</span> <span class=\"pre\">&amp;&amp;</span> <span class=\"pre\">geom</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>MariaDB</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">MBROverlaps(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>MySQL</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">MBROverlaps(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">MbrOverlaps(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-contained\">\n<span id=\"s-std-fieldlookup-contained\"></span><span id=\"s-std:fieldlookup-contained\"></span><span id=\"contained\"></span><span id=\"std-fieldlookup-contained\"></span><span id=\"std:fieldlookup-contained\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">contained</span></code><a class=\"headerlink\" href=\"#contained\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Geometry_Contained.html\">PostGIS</a>,\nMariaDB, MySQL, SpatiaLite, PGRaster (Native)</p>\n<p>Tests if the geometry field\u2019s bounding box is completely contained by the\nlookup geometry\u2019s bounding box.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__contained</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"28%\" />\n<col width=\"72%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">poly</span> <span class=\"pre\">&#64;</span> <span class=\"pre\">geom</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>MariaDB</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">MBRWithin(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>MySQL</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">MBRWithin(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">MbrWithin(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-contains\">\n<span id=\"s-std-fieldlookup-gis-contains\"></span><span id=\"s-std:fieldlookup-gis-contains\"></span><span id=\"contains\"></span><span id=\"std-fieldlookup-gis-contains\"></span><span id=\"std:fieldlookup-gis-contains\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">contains</span></code><a class=\"headerlink\" href=\"#contains\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Contains.html\">PostGIS</a>,\nOracle, MariaDB, MySQL, SpatiaLite, PGRaster (Bilateral)</p>\n<p>Tests if the geometry field spatially contains the lookup geometry.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__contains</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"26%\" />\n<col width=\"74%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Contains(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>Oracle</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">SDO_CONTAINS(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>MariaDB</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Contains(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>MySQL</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Contains(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">Contains(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-contains-properly\">\n<span id=\"s-std-fieldlookup-contains_properly\"></span><span id=\"s-std:fieldlookup-contains_properly\"></span><span id=\"contains-properly\"></span><span id=\"std-fieldlookup-contains_properly\"></span><span id=\"std:fieldlookup-contains_properly\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">contains_properly</span></code><a class=\"headerlink\" href=\"#contains-properly\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_ContainsProperly.html\">PostGIS</a>,\nPGRaster (Bilateral)</p>\n<p>Returns true if the lookup geometry intersects the interior of the\ngeometry field, but not the boundary (or exterior).</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__contains_properly</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"22%\" />\n<col width=\"78%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_ContainsProperly(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-coveredby\">\n<span id=\"s-std-fieldlookup-coveredby\"></span><span id=\"s-std:fieldlookup-coveredby\"></span><span id=\"coveredby\"></span><span id=\"std-fieldlookup-coveredby\"></span><span id=\"std:fieldlookup-coveredby\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">coveredby</span></code><a class=\"headerlink\" href=\"#coveredby\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_CoveredBy.html\">PostGIS</a>,\nOracle, PGRaster (Bilateral), SpatiaLite</p>\n<p>Tests if no point in the geometry field is outside the lookup geometry.\n<a class=\"footnote-reference\" href=\"#fncovers\" id=\"id2\">[3]</a></p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__coveredby</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"26%\" />\n<col width=\"74%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_CoveredBy(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>Oracle</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">SDO_COVEREDBY(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">CoveredBy(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-covers\">\n<span id=\"s-std-fieldlookup-covers\"></span><span id=\"s-std:fieldlookup-covers\"></span><span id=\"covers\"></span><span id=\"std-fieldlookup-covers\"></span><span id=\"std:fieldlookup-covers\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">covers</span></code><a class=\"headerlink\" href=\"#covers\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Covers.html\">PostGIS</a>,\nOracle, PGRaster (Bilateral), SpatiaLite</p>\n<p>Tests if no point in the lookup geometry is outside the geometry field.\n<a class=\"footnote-reference\" href=\"#fncovers\" id=\"id3\">[3]</a></p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__covers</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"28%\" />\n<col width=\"72%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Covers(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>Oracle</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">SDO_COVERS(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">Covers(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-crosses\">\n<span id=\"s-std-fieldlookup-crosses\"></span><span id=\"s-std:fieldlookup-crosses\"></span><span id=\"crosses\"></span><span id=\"std-fieldlookup-crosses\"></span><span id=\"std:fieldlookup-crosses\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">crosses</span></code><a class=\"headerlink\" href=\"#crosses\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Crosses.html\">PostGIS</a>,\nMariaDB, MySQL, SpatiaLite, PGRaster (Conversion)</p>\n<p>Tests if the geometry field spatially crosses the lookup geometry.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__crosses</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"28%\" />\n<col width=\"72%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Crosses(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>MariaDB</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Crosses(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>MySQL</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Crosses(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">Crosses(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-disjoint\">\n<span id=\"s-std-fieldlookup-disjoint\"></span><span id=\"s-std:fieldlookup-disjoint\"></span><span id=\"disjoint\"></span><span id=\"std-fieldlookup-disjoint\"></span><span id=\"std:fieldlookup-disjoint\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">disjoint</span></code><a class=\"headerlink\" href=\"#disjoint\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Disjoint.html\">PostGIS</a>,\nOracle, MariaDB, MySQL, SpatiaLite, PGRaster (Bilateral)</p>\n<p>Tests if the geometry field is spatially disjoint from the lookup geometry.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__disjoint</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"17%\" />\n<col width=\"83%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Disjoint(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>Oracle</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">SDO_GEOM.RELATE(poly,</span> <span class=\"pre\">'DISJOINT',</span> <span class=\"pre\">geom,</span> <span class=\"pre\">0.05)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>MariaDB</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Disjoint(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>MySQL</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Disjoint(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">Disjoint(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-equals\">\n<span id=\"s-std-fieldlookup-equals\"></span><span id=\"s-std:fieldlookup-equals\"></span><span id=\"equals\"></span><span id=\"std-fieldlookup-equals\"></span><span id=\"std:fieldlookup-equals\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">equals</span></code><a class=\"headerlink\" href=\"#equals\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Equals.html\">PostGIS</a>,\nOracle, MariaDB, MySQL, SpatiaLite, PGRaster (Conversion)</p>\n<p>Tests if the geometry field is spatially equal to the lookup geometry.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__equals</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"17%\" />\n<col width=\"83%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Equals(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>Oracle</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">SDO_EQUAL(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>MariaDB</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Equals(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>MySQL</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Equals(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">Equals(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n</tbody>\n</table>\n<span class=\"target\" id=\"std-fieldlookup-exact-noindex\"><span id=\"std:fieldlookup-exact :noindex:\"></span></span></div>\n<div class=\"section\" id=\"s-exact-same-as\">\n<span id=\"s-std-fieldlookup-same_as\"></span><span id=\"s-std:fieldlookup-same_as\"></span><span id=\"exact-same-as\"></span><span id=\"std-fieldlookup-same_as\"></span><span id=\"std:fieldlookup-same_as\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">exact</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">same_as</span></code><a class=\"headerlink\" href=\"#exact-same-as\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Geometry_Same.html\">PostGIS</a>,\nOracle, MariaDB, MySQL, SpatiaLite, PGRaster (Bilateral)</p>\n<p>Tests if the geometry field is \u201cequal\u201d to the lookup geometry. On Oracle,\nMySQL, and SpatiaLite, it tests spatial equality, while on PostGIS it tests\nequality of bounding boxes.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"17%\" />\n<col width=\"83%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">poly</span> <span class=\"pre\">~=</span> <span class=\"pre\">geom</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>Oracle</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">SDO_EQUAL(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>MariaDB</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Equals(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>MySQL</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Equals(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">Equals(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-intersects\">\n<span id=\"s-std-fieldlookup-intersects\"></span><span id=\"s-std:fieldlookup-intersects\"></span><span id=\"intersects\"></span><span id=\"std-fieldlookup-intersects\"></span><span id=\"std:fieldlookup-intersects\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">intersects</span></code><a class=\"headerlink\" href=\"#intersects\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Intersects.html\">PostGIS</a>,\nOracle, MariaDB, MySQL, SpatiaLite, PGRaster (Bilateral)</p>\n<p>Tests if the geometry field spatially intersects the lookup geometry.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__intersects</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"17%\" />\n<col width=\"83%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Intersects(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>Oracle</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">SDO_OVERLAPBDYINTERSECT(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>MariaDB</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Intersects(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>MySQL</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Intersects(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">Intersects(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-isempty\">\n<span id=\"s-std-fieldlookup-isempty\"></span><span id=\"s-std:fieldlookup-isempty\"></span><span id=\"isempty\"></span><span id=\"std-fieldlookup-isempty\"></span><span id=\"std:fieldlookup-isempty\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">isempty</span></code><a class=\"headerlink\" href=\"#isempty\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<div class=\"versionadded\">\n<span class=\"title\">New in Django 4.2.</span> </div>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_IsEmpty.html\">PostGIS</a></p>\n<p>Tests if the geometry is empty.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__isempty</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-isvalid\">\n<span id=\"s-std-fieldlookup-isvalid\"></span><span id=\"s-std:fieldlookup-isvalid\"></span><span id=\"isvalid\"></span><span id=\"std-fieldlookup-isvalid\"></span><span id=\"std:fieldlookup-isvalid\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">isvalid</span></code><a class=\"headerlink\" href=\"#isvalid\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: MySQL, <a class=\"reference external\" href=\"https://postgis.net/docs/ST_IsValid.html\">PostGIS</a>,\nOracle, SpatiaLite</p>\n<p>Tests if the geometry is valid.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__isvalid</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"29%\" />\n<col width=\"71%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>MySQL, PostGIS, SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_IsValid(poly)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>Oracle</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT(poly,</span> <span class=\"pre\">0.05)</span> <span class=\"pre\">=</span> <span class=\"pre\">'TRUE'</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-overlaps\">\n<span id=\"s-std-fieldlookup-overlaps\"></span><span id=\"s-std:fieldlookup-overlaps\"></span><span id=\"overlaps\"></span><span id=\"std-fieldlookup-overlaps\"></span><span id=\"std:fieldlookup-overlaps\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">overlaps</span></code><a class=\"headerlink\" href=\"#overlaps\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Overlaps.html\">PostGIS</a>,\nOracle, MariaDB, MySQL, SpatiaLite, PGRaster (Bilateral)</p>\n<p>Tests if the geometry field spatially overlaps the lookup geometry.</p>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"26%\" />\n<col width=\"74%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Overlaps(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>Oracle</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">SDO_OVERLAPS(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>MariaDB</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Overlaps(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>MySQL</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Overlaps(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">Overlaps(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-relate\">\n<span id=\"s-std-fieldlookup-relate\"></span><span id=\"s-std:fieldlookup-relate\"></span><span id=\"relate\"></span><span id=\"std-fieldlookup-relate\"></span><span id=\"std:fieldlookup-relate\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">relate</span></code><a class=\"headerlink\" href=\"#relate\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Relate.html\">PostGIS</a>,\nMariaDB, Oracle, SpatiaLite, PGRaster (Conversion)</p>\n<p>Tests if the geometry field is spatially related to the lookup geometry by\nthe values given in the given pattern.  This lookup requires a tuple parameter,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">(geom,</span> <span class=\"pre\">pattern)</span></code>; the form of <code class=\"docutils literal notranslate\"><span class=\"pre\">pattern</span></code> will depend on the spatial backend:</p>\n<div class=\"section\" id=\"s-mariadb-postgis-and-spatialite\">\n<span id=\"mariadb-postgis-and-spatialite\"></span><h4>MariaDB, PostGIS, and SpatiaLite<a class=\"headerlink\" href=\"#mariadb-postgis-and-spatialite\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<p>On these spatial backends the intersection pattern is a string comprising\nnine characters, which  define intersections between  the interior, boundary,\nand exterior of the geometry field and the lookup geometry.\nThe intersection pattern matrix may only use the following characters:\n<code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">2</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">T</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">F</span></code>, or <code class=\"docutils literal notranslate\"><span class=\"pre\">*</span></code>.  This lookup type allows users to \u201cfine tune\u201d\na specific geometric relationship consistent with the DE-9IM model. <a class=\"footnote-reference\" href=\"#fnde9im\" id=\"id4\">[1]</a></p>\n<p>Geometry example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># A tuple lookup parameter is used to specify the geometry and</span>\n<span class=\"c1\"># the intersection pattern (the pattern here is for &#39;contains&#39;).</span>\n<span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__relate</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">geom</span><span class=\"p\">,</span> <span class=\"s2\">&quot;T*T***FF*&quot;</span><span class=\"p\">))</span>\n</pre></div>\n</div>\n<p>PostGIS and MariaDB SQL equivalent:</p>\n<div class=\"highlight-sql notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">SELECT</span><span class=\"w\"> </span><span class=\"p\">...</span><span class=\"w\"> </span><span class=\"k\">WHERE</span><span class=\"w\"> </span><span class=\"n\">ST_Relate</span><span class=\"p\">(</span><span class=\"n\">poly</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">geom</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s1\">&#39;T*T***FF*&#39;</span><span class=\"p\">)</span><span class=\"w\"></span>\n</pre></div>\n</div>\n<p>SpatiaLite SQL equivalent:</p>\n<div class=\"highlight-sql notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">SELECT</span><span class=\"w\"> </span><span class=\"p\">...</span><span class=\"w\"> </span><span class=\"k\">WHERE</span><span class=\"w\"> </span><span class=\"n\">Relate</span><span class=\"p\">(</span><span class=\"n\">poly</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">geom</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s1\">&#39;T*T***FF*&#39;</span><span class=\"p\">)</span><span class=\"w\"></span>\n</pre></div>\n</div>\n<p>Raster example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__relate</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">rast</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s2\">&quot;T*T***FF*&quot;</span><span class=\"p\">))</span>\n<span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">rast__2__relate</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">rast</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s2\">&quot;T*T***FF*&quot;</span><span class=\"p\">))</span>\n</pre></div>\n</div>\n<p>PostGIS SQL equivalent:</p>\n<div class=\"highlight-sql notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">SELECT</span><span class=\"w\"> </span><span class=\"p\">...</span><span class=\"w\"> </span><span class=\"k\">WHERE</span><span class=\"w\"> </span><span class=\"n\">ST_Relate</span><span class=\"p\">(</span><span class=\"n\">poly</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ST_Polygon</span><span class=\"p\">(</span><span class=\"n\">rast</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"s1\">&#39;T*T***FF*&#39;</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"k\">SELECT</span><span class=\"w\"> </span><span class=\"p\">...</span><span class=\"w\"> </span><span class=\"k\">WHERE</span><span class=\"w\"> </span><span class=\"n\">ST_Relate</span><span class=\"p\">(</span><span class=\"n\">ST_Polygon</span><span class=\"p\">(</span><span class=\"n\">rast</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">ST_Polygon</span><span class=\"p\">(</span><span class=\"n\">rast</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"s1\">&#39;T*T***FF*&#39;</span><span class=\"p\">)</span><span class=\"w\"></span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-oracle\">\n<span id=\"oracle\"></span><h4>Oracle<a class=\"headerlink\" href=\"#oracle\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<p>Here the relation pattern is comprised of at least one of the nine relation\nstrings: <code class=\"docutils literal notranslate\"><span class=\"pre\">TOUCH</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">OVERLAPBDYDISJOINT</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">OVERLAPBDYINTERSECT</span></code>,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">EQUAL</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">INSIDE</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">COVEREDBY</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">CONTAINS</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">COVERS</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">ON</span></code>, and\n<code class=\"docutils literal notranslate\"><span class=\"pre\">ANYINTERACT</span></code>.   Multiple strings may be combined with the logical Boolean\noperator OR, for example, <code class=\"docutils literal notranslate\"><span class=\"pre\">'inside+touch'</span></code>. <a class=\"footnote-reference\" href=\"#fnsdorelate\" id=\"id5\">[2]</a>  The relation\nstrings are case-insensitive.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__relate</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">geom</span><span class=\"p\">,</span> <span class=\"s2\">&quot;anyinteract&quot;</span><span class=\"p\">))</span>\n</pre></div>\n</div>\n<p>Oracle SQL equivalent:</p>\n<div class=\"highlight-sql notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">SELECT</span><span class=\"w\"> </span><span class=\"p\">...</span><span class=\"w\"> </span><span class=\"k\">WHERE</span><span class=\"w\"> </span><span class=\"n\">SDO_RELATE</span><span class=\"p\">(</span><span class=\"n\">poly</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">geom</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s1\">&#39;anyinteract&#39;</span><span class=\"p\">)</span><span class=\"w\"></span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"s-touches\">\n<span id=\"s-std-fieldlookup-touches\"></span><span id=\"s-std:fieldlookup-touches\"></span><span id=\"touches\"></span><span id=\"std-fieldlookup-touches\"></span><span id=\"std:fieldlookup-touches\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">touches</span></code><a class=\"headerlink\" href=\"#touches\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Touches.html\">PostGIS</a>,\nOracle, MariaDB, MySQL, SpatiaLite</p>\n<p>Tests if the geometry field spatially touches the lookup geometry.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__touches</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"28%\" />\n<col width=\"72%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Touches(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>MariaDB</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Touches(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>MySQL</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Touches(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>Oracle</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">SDO_TOUCH(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">Touches(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-within\">\n<span id=\"s-std-fieldlookup-within\"></span><span id=\"s-std:fieldlookup-within\"></span><span id=\"within\"></span><span id=\"std-fieldlookup-within\"></span><span id=\"std:fieldlookup-within\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">within</span></code><a class=\"headerlink\" href=\"#within\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Within.html\">PostGIS</a>,\nOracle, MariaDB, MySQL, SpatiaLite, PGRaster (Bilateral)</p>\n<p>Tests if the geometry field is spatially within the lookup geometry.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__within</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"28%\" />\n<col width=\"72%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Within(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>MariaDB</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Within(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>MySQL</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Within(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>Oracle</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">SDO_INSIDE(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">Within(poly,</span> <span class=\"pre\">geom)</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-left\">\n<span id=\"s-std-fieldlookup-left\"></span><span id=\"s-std:fieldlookup-left\"></span><span id=\"left\"></span><span id=\"std-fieldlookup-left\"></span><span id=\"std:fieldlookup-left\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">left</span></code><a class=\"headerlink\" href=\"#left\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Geometry_Left.html\">PostGIS</a>,\nPGRaster (Conversion)</p>\n<p>Tests if the geometry field\u2019s bounding box is strictly to the left of the\nlookup geometry\u2019s bounding box.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__left</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>PostGIS equivalent:</p>\n<div class=\"highlight-sql notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">SELECT</span><span class=\"w\"> </span><span class=\"p\">...</span><span class=\"w\"> </span><span class=\"k\">WHERE</span><span class=\"w\"> </span><span class=\"n\">poly</span><span class=\"w\"> </span><span class=\"o\">&lt;&lt;</span><span class=\"w\"> </span><span class=\"n\">geom</span><span class=\"w\"></span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-right\">\n<span id=\"s-std-fieldlookup-right\"></span><span id=\"s-std:fieldlookup-right\"></span><span id=\"right\"></span><span id=\"std-fieldlookup-right\"></span><span id=\"std:fieldlookup-right\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">right</span></code><a class=\"headerlink\" href=\"#right\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Geometry_Right.html\">PostGIS</a>,\nPGRaster (Conversion)</p>\n<p>Tests if the geometry field\u2019s bounding box is strictly to the right of the\nlookup geometry\u2019s bounding box.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__right</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>PostGIS equivalent:</p>\n<div class=\"highlight-sql notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">SELECT</span><span class=\"w\"> </span><span class=\"p\">...</span><span class=\"w\"> </span><span class=\"k\">WHERE</span><span class=\"w\"> </span><span class=\"n\">poly</span><span class=\"w\"> </span><span class=\"o\">&gt;&gt;</span><span class=\"w\"> </span><span class=\"n\">geom</span><span class=\"w\"></span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-overlaps-left\">\n<span id=\"s-std-fieldlookup-overlaps_left\"></span><span id=\"s-std:fieldlookup-overlaps_left\"></span><span id=\"overlaps-left\"></span><span id=\"std-fieldlookup-overlaps_left\"></span><span id=\"std:fieldlookup-overlaps_left\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">overlaps_left</span></code><a class=\"headerlink\" href=\"#overlaps-left\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Geometry_Overleft.html\">PostGIS</a>,\nPGRaster (Bilateral)</p>\n<p>Tests if the geometry field\u2019s bounding box overlaps or is to the left of the lookup\ngeometry\u2019s bounding box.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__overlaps_left</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>PostGIS equivalent:</p>\n<div class=\"highlight-sql notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">SELECT</span><span class=\"w\"> </span><span class=\"p\">...</span><span class=\"w\"> </span><span class=\"k\">WHERE</span><span class=\"w\"> </span><span class=\"n\">poly</span><span class=\"w\"> </span><span class=\"o\">&amp;&lt;</span><span class=\"w\"> </span><span class=\"n\">geom</span><span class=\"w\"></span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-overlaps-right\">\n<span id=\"s-std-fieldlookup-overlaps_right\"></span><span id=\"s-std:fieldlookup-overlaps_right\"></span><span id=\"overlaps-right\"></span><span id=\"std-fieldlookup-overlaps_right\"></span><span id=\"std:fieldlookup-overlaps_right\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">overlaps_right</span></code><a class=\"headerlink\" href=\"#overlaps-right\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Geometry_Overright.html\">PostGIS</a>,\nPGRaster (Bilateral)</p>\n<p>Tests if the geometry field\u2019s bounding box overlaps or is to the right of the lookup\ngeometry\u2019s bounding box.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__overlaps_right</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>PostGIS equivalent:</p>\n<div class=\"highlight-sql notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">SELECT</span><span class=\"w\"> </span><span class=\"p\">...</span><span class=\"w\"> </span><span class=\"k\">WHERE</span><span class=\"w\"> </span><span class=\"n\">poly</span><span class=\"w\"> </span><span class=\"o\">&amp;&gt;</span><span class=\"w\"> </span><span class=\"n\">geom</span><span class=\"w\"></span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-overlaps-above\">\n<span id=\"s-std-fieldlookup-overlaps_above\"></span><span id=\"s-std:fieldlookup-overlaps_above\"></span><span id=\"overlaps-above\"></span><span id=\"std-fieldlookup-overlaps_above\"></span><span id=\"std:fieldlookup-overlaps_above\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">overlaps_above</span></code><a class=\"headerlink\" href=\"#overlaps-above\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Geometry_Overabove.html\">PostGIS</a>,\nPGRaster (Conversion)</p>\n<p>Tests if the geometry field\u2019s bounding box overlaps or is above the lookup\ngeometry\u2019s bounding box.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__overlaps_above</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>PostGIS equivalent:</p>\n<div class=\"highlight-sql notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">SELECT</span><span class=\"w\"> </span><span class=\"p\">...</span><span class=\"w\"> </span><span class=\"k\">WHERE</span><span class=\"w\"> </span><span class=\"n\">poly</span><span class=\"w\"> </span><span class=\"o\">|&amp;&gt;</span><span class=\"w\"> </span><span class=\"n\">geom</span><span class=\"w\"></span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-overlaps-below\">\n<span id=\"s-std-fieldlookup-overlaps_below\"></span><span id=\"s-std:fieldlookup-overlaps_below\"></span><span id=\"overlaps-below\"></span><span id=\"std-fieldlookup-overlaps_below\"></span><span id=\"std:fieldlookup-overlaps_below\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">overlaps_below</span></code><a class=\"headerlink\" href=\"#overlaps-below\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Geometry_Overbelow.html\">PostGIS</a>,\nPGRaster (Conversion)</p>\n<p>Tests if the geometry field\u2019s bounding box overlaps or is below the lookup\ngeometry\u2019s bounding box.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__overlaps_below</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>PostGIS equivalent:</p>\n<div class=\"highlight-sql notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">SELECT</span><span class=\"w\"> </span><span class=\"p\">...</span><span class=\"w\"> </span><span class=\"k\">WHERE</span><span class=\"w\"> </span><span class=\"n\">poly</span><span class=\"w\"> </span><span class=\"o\">&amp;&lt;|</span><span class=\"w\"> </span><span class=\"n\">geom</span><span class=\"w\"></span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-strictly-above\">\n<span id=\"s-std-fieldlookup-strictly_above\"></span><span id=\"s-std:fieldlookup-strictly_above\"></span><span id=\"strictly-above\"></span><span id=\"std-fieldlookup-strictly_above\"></span><span id=\"std:fieldlookup-strictly_above\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">strictly_above</span></code><a class=\"headerlink\" href=\"#strictly-above\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Geometry_Above.html\">PostGIS</a>,\nPGRaster (Conversion)</p>\n<p>Tests if the geometry field\u2019s bounding box is strictly above the lookup\ngeometry\u2019s bounding box.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__strictly_above</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>PostGIS equivalent:</p>\n<div class=\"highlight-sql notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">SELECT</span><span class=\"w\"> </span><span class=\"p\">...</span><span class=\"w\"> </span><span class=\"k\">WHERE</span><span class=\"w\"> </span><span class=\"n\">poly</span><span class=\"w\"> </span><span class=\"o\">|&gt;&gt;</span><span class=\"w\"> </span><span class=\"n\">geom</span><span class=\"w\"></span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-strictly-below\">\n<span id=\"s-std-fieldlookup-strictly_below\"></span><span id=\"s-std:fieldlookup-strictly_below\"></span><span id=\"strictly-below\"></span><span id=\"std-fieldlookup-strictly_below\"></span><span id=\"std:fieldlookup-strictly_below\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">strictly_below</span></code><a class=\"headerlink\" href=\"#strictly-below\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Geometry_Below.html\">PostGIS</a>,\nPGRaster (Conversion)</p>\n<p>Tests if the geometry field\u2019s bounding box is strictly below the lookup\ngeometry\u2019s bounding box.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__strictly_below</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>PostGIS equivalent:</p>\n<div class=\"highlight-sql notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">SELECT</span><span class=\"w\"> </span><span class=\"p\">...</span><span class=\"w\"> </span><span class=\"k\">WHERE</span><span class=\"w\"> </span><span class=\"n\">poly</span><span class=\"w\"> </span><span class=\"o\">&lt;&lt;|</span><span class=\"w\"> </span><span class=\"n\">geom</span><span class=\"w\"></span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"s-distance-lookups\">\n<span id=\"s-id6\"></span><span id=\"distance-lookups\"></span><span id=\"id6\"></span><h2>Distance Lookups<a class=\"headerlink\" href=\"#distance-lookups\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p><em>Availability</em>: PostGIS, Oracle, MariaDB, MySQL, SpatiaLite, PGRaster (Native)</p>\n<p>For an overview on performing distance queries, please refer to\nthe <a class=\"reference internal\" href=\"../db-api/#distance-queries\"><span class=\"std std-ref\">distance queries introduction</span></a>.</p>\n<p>Distance lookups take the following form:</p>\n<div class=\"highlight-text notranslate\"><div class=\"highlight\"><pre><span></span>&lt;field&gt;__&lt;distance lookup&gt;=(&lt;geometry/raster&gt;, &lt;distance value&gt;[, &quot;spheroid&quot;])\n&lt;field&gt;__&lt;distance lookup&gt;=(&lt;raster&gt;, &lt;band_index&gt;, &lt;distance value&gt;[, &quot;spheroid&quot;])\n&lt;field&gt;__&lt;band_index&gt;__&lt;distance lookup&gt;=(&lt;raster&gt;, &lt;band_index&gt;, &lt;distance value&gt;[, &quot;spheroid&quot;])\n</pre></div>\n</div>\n<p>The value passed into a distance lookup is a tuple; the first two\nvalues are mandatory, and are the geometry to calculate distances to,\nand a distance value (either a number in units of the field, a\n<a class=\"reference internal\" href=\"../measure/#django.contrib.gis.measure.Distance\" title=\"django.contrib.gis.measure.Distance\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Distance</span></code></a> object, or a <a class=\"reference internal\" href=\"../../../models/expressions/\"><span class=\"doc\">query\nexpression</span></a>). To pass a band index to the lookup, use\na 3-tuple where the second entry is the band index.</p>\n<p>On every distance lookup except <a class=\"reference internal\" href=\"#std-fieldlookup-dwithin\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">dwithin</span></code></a>, an optional element,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">'spheroid'</span></code>, may be included to use the more accurate spheroid distance\ncalculation functions on fields with a geodetic coordinate system.</p>\n<p>On PostgreSQL, the <code class=\"docutils literal notranslate\"><span class=\"pre\">'spheroid'</span></code> option uses <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Distance_Spheroid.html\">ST_DistanceSpheroid</a> instead of\n<a class=\"reference external\" href=\"https://postgis.net/docs/ST_DistanceSphere.html\">ST_DistanceSphere</a>. The\nsimpler <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Distance.html\">ST_Distance</a> function is\nused with projected coordinate systems. Rasters are converted to geometries for\nspheroid based lookups.</p>\n<div class=\"section\" id=\"s-distance-gt\">\n<span id=\"s-std-fieldlookup-distance_gt\"></span><span id=\"s-std:fieldlookup-distance_gt\"></span><span id=\"distance-gt\"></span><span id=\"std-fieldlookup-distance_gt\"></span><span id=\"std:fieldlookup-distance_gt\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">distance_gt</span></code><a class=\"headerlink\" href=\"#distance-gt\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Returns models where the distance to the geometry field from the lookup\ngeometry is greater than the given distance value.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__distance_gt</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">geom</span><span class=\"p\">,</span> <span class=\"n\">D</span><span class=\"p\">(</span><span class=\"n\">m</span><span class=\"o\">=</span><span class=\"mi\">5</span><span class=\"p\">)))</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"17%\" />\n<col width=\"83%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Distance/ST_Distance_Sphere(poly,</span> <span class=\"pre\">geom)</span> <span class=\"pre\">&gt;</span> <span class=\"pre\">5</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>MariaDB</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Distance(poly,</span> <span class=\"pre\">geom)</span> <span class=\"pre\">&gt;</span> <span class=\"pre\">5</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>MySQL</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Distance(poly,</span> <span class=\"pre\">geom)</span> <span class=\"pre\">&gt;</span> <span class=\"pre\">5</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>Oracle</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">SDO_GEOM.SDO_DISTANCE(poly,</span> <span class=\"pre\">geom,</span> <span class=\"pre\">0.05)</span> <span class=\"pre\">&gt;</span> <span class=\"pre\">5</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">Distance(poly,</span> <span class=\"pre\">geom)</span> <span class=\"pre\">&gt;</span> <span class=\"pre\">5</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-distance-gte\">\n<span id=\"s-std-fieldlookup-distance_gte\"></span><span id=\"s-std:fieldlookup-distance_gte\"></span><span id=\"distance-gte\"></span><span id=\"std-fieldlookup-distance_gte\"></span><span id=\"std:fieldlookup-distance_gte\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">distance_gte</span></code><a class=\"headerlink\" href=\"#distance-gte\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Returns models where the distance to the geometry field from the lookup\ngeometry is greater than or equal to the given distance value.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__distance_gte</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">geom</span><span class=\"p\">,</span> <span class=\"n\">D</span><span class=\"p\">(</span><span class=\"n\">m</span><span class=\"o\">=</span><span class=\"mi\">5</span><span class=\"p\">)))</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"16%\" />\n<col width=\"84%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Distance/ST_Distance_Sphere(poly,</span> <span class=\"pre\">geom)</span> <span class=\"pre\">&gt;=</span> <span class=\"pre\">5</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>MariaDB</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Distance(poly,</span> <span class=\"pre\">geom)</span> <span class=\"pre\">&gt;=</span> <span class=\"pre\">5</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>MySQL</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Distance(poly,</span> <span class=\"pre\">geom)</span> <span class=\"pre\">&gt;=</span> <span class=\"pre\">5</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>Oracle</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">SDO_GEOM.SDO_DISTANCE(poly,</span> <span class=\"pre\">geom,</span> <span class=\"pre\">0.05)</span> <span class=\"pre\">&gt;=</span> <span class=\"pre\">5</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">Distance(poly,</span> <span class=\"pre\">geom)</span> <span class=\"pre\">&gt;=</span> <span class=\"pre\">5</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-distance-lt\">\n<span id=\"s-std-fieldlookup-distance_lt\"></span><span id=\"s-std:fieldlookup-distance_lt\"></span><span id=\"distance-lt\"></span><span id=\"std-fieldlookup-distance_lt\"></span><span id=\"std:fieldlookup-distance_lt\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">distance_lt</span></code><a class=\"headerlink\" href=\"#distance-lt\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Returns models where the distance to the geometry field from the lookup\ngeometry is less than the given distance value.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__distance_lt</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">geom</span><span class=\"p\">,</span> <span class=\"n\">D</span><span class=\"p\">(</span><span class=\"n\">m</span><span class=\"o\">=</span><span class=\"mi\">5</span><span class=\"p\">)))</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"17%\" />\n<col width=\"83%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Distance/ST_Distance_Sphere(poly,</span> <span class=\"pre\">geom)</span> <span class=\"pre\">&lt;</span> <span class=\"pre\">5</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>MariaDB</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Distance(poly,</span> <span class=\"pre\">geom)</span> <span class=\"pre\">&lt;</span> <span class=\"pre\">5</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>MySQL</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Distance(poly,</span> <span class=\"pre\">geom)</span> <span class=\"pre\">&lt;</span> <span class=\"pre\">5</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>Oracle</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">SDO_GEOM.SDO_DISTANCE(poly,</span> <span class=\"pre\">geom,</span> <span class=\"pre\">0.05)</span> <span class=\"pre\">&lt;</span> <span class=\"pre\">5</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">Distance(poly,</span> <span class=\"pre\">geom)</span> <span class=\"pre\">&lt;</span> <span class=\"pre\">5</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-distance-lte\">\n<span id=\"s-std-fieldlookup-distance_lte\"></span><span id=\"s-std:fieldlookup-distance_lte\"></span><span id=\"distance-lte\"></span><span id=\"std-fieldlookup-distance_lte\"></span><span id=\"std:fieldlookup-distance_lte\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">distance_lte</span></code><a class=\"headerlink\" href=\"#distance-lte\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Returns models where the distance to the geometry field from the lookup\ngeometry is less than or equal to the given distance value.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__distance_lte</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">geom</span><span class=\"p\">,</span> <span class=\"n\">D</span><span class=\"p\">(</span><span class=\"n\">m</span><span class=\"o\">=</span><span class=\"mi\">5</span><span class=\"p\">)))</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"16%\" />\n<col width=\"84%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Distance/ST_Distance_Sphere(poly,</span> <span class=\"pre\">geom)</span> <span class=\"pre\">&lt;=</span> <span class=\"pre\">5</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>MariaDB</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Distance(poly,</span> <span class=\"pre\">geom)</span> <span class=\"pre\">&lt;=</span> <span class=\"pre\">5</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>MySQL</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Distance(poly,</span> <span class=\"pre\">geom)</span> <span class=\"pre\">&lt;=</span> <span class=\"pre\">5</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>Oracle</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">SDO_GEOM.SDO_DISTANCE(poly,</span> <span class=\"pre\">geom,</span> <span class=\"pre\">0.05)</span> <span class=\"pre\">&lt;=</span> <span class=\"pre\">5</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">Distance(poly,</span> <span class=\"pre\">geom)</span> <span class=\"pre\">&lt;=</span> <span class=\"pre\">5</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-dwithin\">\n<span id=\"s-std-fieldlookup-dwithin\"></span><span id=\"s-std:fieldlookup-dwithin\"></span><span id=\"dwithin\"></span><span id=\"std-fieldlookup-dwithin\"></span><span id=\"std:fieldlookup-dwithin\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">dwithin</span></code><a class=\"headerlink\" href=\"#dwithin\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Returns models where the distance to the geometry field from the lookup\ngeometry are within the given distance from one another. Note that you can only\nprovide <a class=\"reference internal\" href=\"../measure/#django.contrib.gis.measure.Distance\" title=\"django.contrib.gis.measure.Distance\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Distance</span></code></a> objects if the targeted\ngeometries are in a projected system. For geographic geometries, you should use\nunits of the geometry field (e.g. degrees for <code class=\"docutils literal notranslate\"><span class=\"pre\">WGS84</span></code>) .</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__dwithin</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">geom</span><span class=\"p\">,</span> <span class=\"n\">D</span><span class=\"p\">(</span><span class=\"n\">m</span><span class=\"o\">=</span><span class=\"mi\">5</span><span class=\"p\">)))</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"21%\" />\n<col width=\"79%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Backend</th>\n<th class=\"head\">SQL Equivalent</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostGIS</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">ST_DWithin(poly,</span> <span class=\"pre\">geom,</span> <span class=\"pre\">5)</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td>Oracle</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">SDO_WITHIN_DISTANCE(poly,</span> <span class=\"pre\">geom,</span> <span class=\"pre\">5)</span></code></td>\n</tr>\n<tr class=\"row-even\"><td>SpatiaLite</td>\n<td><code class=\"docutils literal notranslate\"><span class=\"pre\">PtDistWithin(poly,</span> <span class=\"pre\">geom,</span> <span class=\"pre\">5)</span></code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-aggregate-functions\">\n<span id=\"aggregate-functions\"></span><h3>Aggregate Functions<a class=\"headerlink\" href=\"#aggregate-functions\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Django provides some GIS-specific aggregate functions. For details on how to\nuse these aggregate functions, see <a class=\"reference internal\" href=\"../../../../topics/db/aggregation/\"><span class=\"doc\">the topic guide on aggregation</span></a>.</p>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"28%\" />\n<col width=\"72%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Keyword Argument</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td><code class=\"docutils literal notranslate\"><span class=\"pre\">tolerance</span></code></td>\n<td>This keyword is for Oracle only.  It is for the\ntolerance value used by the <code class=\"docutils literal notranslate\"><span class=\"pre\">SDOAGGRTYPE</span></code>\nprocedure; the  <a class=\"reference external\" href=\"https://docs.oracle.com/en/database/oracle/oracle-database/21/spatl/spatial-concepts.html#GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6\">Oracle documentation</a> has more\ndetails.</td>\n</tr>\n</tbody>\n</table>\n<p>Example:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.contrib.gis.db.models</span> <span class=\"kn\">import</span> <span class=\"n\">Extent</span><span class=\"p\">,</span> <span class=\"n\">Union</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">WorldBorder</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">aggregate</span><span class=\"p\">(</span><span class=\"n\">Extent</span><span class=\"p\">(</span><span class=\"s2\">&quot;mpoly&quot;</span><span class=\"p\">),</span> <span class=\"n\">Union</span><span class=\"p\">(</span><span class=\"s2\">&quot;mpoly&quot;</span><span class=\"p\">))</span>\n</pre></div>\n</div>\n<div class=\"section\" id=\"s-collect\">\n<span id=\"collect\"></span><h4><code class=\"docutils literal notranslate\"><span class=\"pre\">Collect</span></code><a class=\"headerlink\" href=\"#collect\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.Collect\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">Collect</span></code>(<em><span class=\"n\"><span class=\"pre\">geo_field</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.Collect\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Collect.html\">PostGIS</a>,\nSpatiaLite</p>\n<p>Returns a <code class=\"docutils literal notranslate\"><span class=\"pre\">GEOMETRYCOLLECTION</span></code> or a <code class=\"docutils literal notranslate\"><span class=\"pre\">MULTI</span></code> geometry object from the geometry\ncolumn. This is analogous to a simplified version of the <a class=\"reference internal\" href=\"#django.contrib.gis.db.models.Union\" title=\"django.contrib.gis.db.models.Union\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Union</span></code></a>\naggregate, except it can be several orders of magnitude faster than performing\na union because it rolls up geometries into a collection or multi object, not\ncaring about dissolving boundaries.</p>\n</div>\n<div class=\"section\" id=\"s-extent\">\n<span id=\"extent\"></span><h4><code class=\"docutils literal notranslate\"><span class=\"pre\">Extent</span></code><a class=\"headerlink\" href=\"#extent\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.Extent\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">Extent</span></code>(<em><span class=\"n\"><span class=\"pre\">geo_field</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.Extent\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Extent.html\">PostGIS</a>,\nOracle, SpatiaLite</p>\n<p>Returns the extent of all <code class=\"docutils literal notranslate\"><span class=\"pre\">geo_field</span></code> in the <code class=\"docutils literal notranslate\"><span class=\"pre\">QuerySet</span></code> as a four-tuple,\ncomprising the lower left coordinate and the upper right coordinate.</p>\n<p>Example:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qs</span> <span class=\"o\">=</span> <span class=\"n\">City</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">name__in</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s2\">&quot;Houston&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Dallas&quot;</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">aggregate</span><span class=\"p\">(</span><span class=\"n\">Extent</span><span class=\"p\">(</span><span class=\"s2\">&quot;poly&quot;</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">qs</span><span class=\"p\">[</span><span class=\"s2\">&quot;poly__extent&quot;</span><span class=\"p\">])</span>\n<span class=\"go\">(-96.8016128540039, 29.7633724212646, -95.3631439208984, 32.782058715820)</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-extent3d\">\n<span id=\"extent3d\"></span><h4><code class=\"docutils literal notranslate\"><span class=\"pre\">Extent3D</span></code><a class=\"headerlink\" href=\"#extent3d\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.Extent3D\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">Extent3D</span></code>(<em><span class=\"n\"><span class=\"pre\">geo_field</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.Extent3D\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_3DExtent.html\">PostGIS</a></p>\n<p>Returns the 3D extent of all <code class=\"docutils literal notranslate\"><span class=\"pre\">geo_field</span></code> in the <code class=\"docutils literal notranslate\"><span class=\"pre\">QuerySet</span></code> as a six-tuple,\ncomprising the lower left coordinate and upper right coordinate (each with x, y,\nand z coordinates).</p>\n<p>Example:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qs</span> <span class=\"o\">=</span> <span class=\"n\">City</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">name__in</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s2\">&quot;Houston&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Dallas&quot;</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">aggregate</span><span class=\"p\">(</span><span class=\"n\">Extent3D</span><span class=\"p\">(</span><span class=\"s2\">&quot;poly&quot;</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">qs</span><span class=\"p\">[</span><span class=\"s2\">&quot;poly__extent3d&quot;</span><span class=\"p\">])</span>\n<span class=\"go\">(-96.8016128540039, 29.7633724212646, 0, -95.3631439208984, 32.782058715820, 0)</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-makeline\">\n<span id=\"makeline\"></span><h4><code class=\"docutils literal notranslate\"><span class=\"pre\">MakeLine</span></code><a class=\"headerlink\" href=\"#makeline\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.MakeLine\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">MakeLine</span></code>(<em><span class=\"n\"><span class=\"pre\">geo_field</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.MakeLine\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_MakeLine.html\">PostGIS</a>,\nSpatiaLite</p>\n<p>Returns a <code class=\"docutils literal notranslate\"><span class=\"pre\">LineString</span></code> constructed from the point field geometries in the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">QuerySet</span></code>. Currently, ordering the queryset has no effect.</p>\n<p>Example:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qs</span> <span class=\"o\">=</span> <span class=\"n\">City</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">name__in</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s2\">&quot;Houston&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Dallas&quot;</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">aggregate</span><span class=\"p\">(</span><span class=\"n\">MakeLine</span><span class=\"p\">(</span><span class=\"s2\">&quot;poly&quot;</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">qs</span><span class=\"p\">[</span><span class=\"s2\">&quot;poly__makeline&quot;</span><span class=\"p\">])</span>\n<span class=\"go\">LINESTRING (-95.3631510000000020 29.7633739999999989, -96.8016109999999941 32.7820570000000018)</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-union\">\n<span id=\"union\"></span><h4><code class=\"docutils literal notranslate\"><span class=\"pre\">Union</span></code><a class=\"headerlink\" href=\"#union\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.Union\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">Union</span></code>(<em><span class=\"n\"><span class=\"pre\">geo_field</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.Union\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Union.html\">PostGIS</a>,\nOracle, SpatiaLite</p>\n<p>This method returns a <a class=\"reference internal\" href=\"../geos/#django.contrib.gis.geos.GEOSGeometry\" title=\"django.contrib.gis.geos.GEOSGeometry\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">GEOSGeometry</span></code></a> object\ncomprising the union of every geometry in the queryset. Please note that use of\n<code class=\"docutils literal notranslate\"><span class=\"pre\">Union</span></code> is processor intensive and may take a significant amount of time on\nlarge querysets.</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">If the computation time for using this method is too expensive, consider\nusing <a class=\"reference internal\" href=\"#django.contrib.gis.db.models.Collect\" title=\"django.contrib.gis.db.models.Collect\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Collect</span></code></a> instead.</p>\n</div>\n<p>Example:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">u</span> <span class=\"o\">=</span> <span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">aggregate</span><span class=\"p\">(</span><span class=\"n\">Union</span><span class=\"p\">(</span><span class=\"n\">poly</span><span class=\"p\">))</span>  <span class=\"c1\"># This may take a long time.</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">u</span> <span class=\"o\">=</span> <span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__within</span><span class=\"o\">=</span><span class=\"n\">bbox</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">aggregate</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">Union</span><span class=\"p\">(</span><span class=\"n\">poly</span><span class=\"p\">)</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>  <span class=\"c1\"># A more sensible approach.</span>\n</pre></div>\n</div>\n<p class=\"rubric\">Footnotes</p>\n<table class=\"docutils footnote\" frame=\"void\" id=\"fnde9im\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id4\">[1]</a></td><td><em>See</em> <a class=\"reference external\" href=\"https://portal.ogc.org/files/?artifact_id=829\">OpenGIS Simple Feature Specification For SQL</a>, at Ch. 2.1.13.2, p. 2-13 (The Dimensionally Extended Nine-Intersection Model).</td></tr>\n</tbody>\n</table>\n<table class=\"docutils footnote\" frame=\"void\" id=\"fnsdorelate\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id5\">[2]</a></td><td><em>See</em> <a class=\"reference external\" href=\"https://docs.oracle.com/en/database/oracle/oracle-database/18/spatl/spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02\">SDO_RELATE documentation</a>, from the Oracle Spatial and\nGraph Developer\u2019s Guide.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils footnote\" frame=\"void\" id=\"fncovers\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[3]</td><td><em>(<a class=\"fn-backref\" href=\"#id2\">1</a>, <a class=\"fn-backref\" href=\"#id3\">2</a>)</em> For an explanation of this routine, read <a class=\"reference external\" href=\"https://lin-ear-th-inking.blogspot.com/2007/06/subtleties-of-ogc-covers-spatial.html\">Quirks of the \u201cContains\u201d Spatial Predicate</a> by Martin Davis (a PostGIS developer).</td></tr>\n</tbody>\n</table>\n</div>\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["ref/contrib/gis/functions", "Geographic Database Functions", "N", "next"], ["ref/contrib/gis/forms-api", "GeoDjango Forms API", "P", "previous"]], "sourcename": "ref/contrib/gis/geoquerysets.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">GIS QuerySet API Reference</a><ul>\n<li><a class=\"reference internal\" href=\"#spatial-lookups\">Spatial Lookups</a><ul>\n<li><a class=\"reference internal\" href=\"#lookups-with-rasters\">Lookups with rasters</a></li>\n<li><a class=\"reference internal\" href=\"#bbcontains\"><code class=\"docutils literal notranslate\"><span class=\"pre\">bbcontains</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#bboverlaps\"><code class=\"docutils literal notranslate\"><span class=\"pre\">bboverlaps</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#contained\"><code class=\"docutils literal notranslate\"><span class=\"pre\">contained</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#contains\"><code class=\"docutils literal notranslate\"><span class=\"pre\">contains</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#contains-properly\"><code class=\"docutils literal notranslate\"><span class=\"pre\">contains_properly</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#coveredby\"><code class=\"docutils literal notranslate\"><span class=\"pre\">coveredby</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#covers\"><code class=\"docutils literal notranslate\"><span class=\"pre\">covers</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#crosses\"><code class=\"docutils literal notranslate\"><span class=\"pre\">crosses</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#disjoint\"><code class=\"docutils literal notranslate\"><span class=\"pre\">disjoint</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#equals\"><code class=\"docutils literal notranslate\"><span class=\"pre\">equals</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#exact-same-as\"><code class=\"docutils literal notranslate\"><span class=\"pre\">exact</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">same_as</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#intersects\"><code class=\"docutils literal notranslate\"><span class=\"pre\">intersects</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#isempty\"><code class=\"docutils literal notranslate\"><span class=\"pre\">isempty</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#isvalid\"><code class=\"docutils literal notranslate\"><span class=\"pre\">isvalid</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#overlaps\"><code class=\"docutils literal notranslate\"><span class=\"pre\">overlaps</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#relate\"><code class=\"docutils literal notranslate\"><span class=\"pre\">relate</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#mariadb-postgis-and-spatialite\">MariaDB, PostGIS, and SpatiaLite</a></li>\n<li><a class=\"reference internal\" href=\"#oracle\">Oracle</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#touches\"><code class=\"docutils literal notranslate\"><span class=\"pre\">touches</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#within\"><code class=\"docutils literal notranslate\"><span class=\"pre\">within</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#left\"><code class=\"docutils literal notranslate\"><span class=\"pre\">left</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#right\"><code class=\"docutils literal notranslate\"><span class=\"pre\">right</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#overlaps-left\"><code class=\"docutils literal notranslate\"><span class=\"pre\">overlaps_left</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#overlaps-right\"><code class=\"docutils literal notranslate\"><span class=\"pre\">overlaps_right</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#overlaps-above\"><code class=\"docutils literal notranslate\"><span class=\"pre\">overlaps_above</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#overlaps-below\"><code class=\"docutils literal notranslate\"><span class=\"pre\">overlaps_below</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#strictly-above\"><code class=\"docutils literal notranslate\"><span class=\"pre\">strictly_above</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#strictly-below\"><code class=\"docutils literal notranslate\"><span class=\"pre\">strictly_below</span></code></a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#distance-lookups\">Distance Lookups</a><ul>\n<li><a class=\"reference internal\" href=\"#distance-gt\"><code class=\"docutils literal notranslate\"><span class=\"pre\">distance_gt</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#distance-gte\"><code class=\"docutils literal notranslate\"><span class=\"pre\">distance_gte</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#distance-lt\"><code class=\"docutils literal notranslate\"><span class=\"pre\">distance_lt</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#distance-lte\"><code class=\"docutils literal notranslate\"><span class=\"pre\">distance_lte</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#dwithin\"><code class=\"docutils literal notranslate\"><span class=\"pre\">dwithin</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#aggregate-functions\">Aggregate Functions</a><ul>\n<li><a class=\"reference internal\" href=\"#collect\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Collect</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#extent\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Extent</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#extent3d\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Extent3D</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#makeline\"><code class=\"docutils literal notranslate\"><span class=\"pre\">MakeLine</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#union\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Union</span></code></a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".txt", "current_page_name": "ref/contrib/gis/geoquerysets", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}